@inherits StockCardBase

<MudCard>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">Stock</MudText>
        </CardHeaderContent>
    </MudCardHeader>

    <MudCardContent>

        <MudDataGrid @ref="@MudDataGrid" T="Stock" ColumnResizeMode="ResizeMode.Column" ColumnsPanelReordering="true" DragDropColumnReordering="true" EditTrigger="DataGridEditTrigger.Manual" Filterable="true" FilterMode="DataGridFilterMode.ColumnFilterRow" Groupable="false" Hideable="true" ServerData="@OnDataGridStateChangedAsync" ShowMenuIcon="true" SortMode="SortMode.Single">
            <ToolBarContent>
                <MudIconButton Icon="@Icons.Material.Outlined.Add" OnClick="@OnNewButtonClickAsync" />
            </ToolBarContent>

            <Columns>
                <TemplateColumn Editable="false" Filterable="false" Hideable="false" Sortable="false">
                    <CellTemplate>
                        <MudStack Row="true">
                            <MudIconButton Icon="@Icons.Material.Outlined.Delete" Size="Size.Small" OnClick="@(() => OnDeleteButtonClickAsync(context.Item))" />
                            <MudIconButton Icon="@Icons.Material.Outlined.Edit" Size="Size.Small" OnClick="@(() => OnEditButtonClickAsync(context.Item))" />
                        </MudStack>
                    </CellTemplate>
                </TemplateColumn>
                <PropertyColumn Property="x => x.StorageLocationName" Title="Storage Location" />
                <PropertyColumn Property="x => x.Amount" />
                <PropertyColumn Property="x => x.CreatedOn" Editable="false" Filterable="false" Title="Created" />
                <PropertyColumn Property="x => x.LastEditedOn" Hidden="true" Filterable="false" Editable="false" Title="Last Edited" />
            </Columns>

            <PagerContent>
                <MudDataGridPager T="Stock" />
            </PagerContent>
        </MudDataGrid>

    </MudCardContent>

</MudCard>
