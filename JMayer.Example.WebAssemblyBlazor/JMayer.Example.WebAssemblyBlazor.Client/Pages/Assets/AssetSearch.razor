@page "/Assets"
@inherits AssetSearchBase

<PageTitle>Assets</PageTitle>

<MudStack Class="px-2 py-2">

    <MudText Typo="Typo.h5">Asset Search</MudText>

    <MudDataGrid @ref="@MudDataGrid" T="Asset" ColumnResizeMode="ResizeMode.Column" ColumnsPanelReordering="true" DragDropColumnReordering="true" EditTrigger="DataGridEditTrigger.Manual" Filterable="true" FilterMode="DataGridFilterMode.ColumnFilterRow" Groupable="false" Hideable="true" ServerData="@OnDataGridStateChangedAsync" ShowMenuIcon="true" SortMode="SortMode.Single">
        <ToolBarContent>
            <MudIconButton Icon="@Icons.Material.Outlined.Add" OnClick="@OnNewButtonClickAsync" />
        </ToolBarContent>

        <Columns>
            <TemplateColumn Editable="false" Filterable="false" Hideable="false" Sortable="false">
                <CellTemplate>
                    <MudStack Row="true">
                        <MudIconButton Icon="@Icons.Material.Outlined.Delete" Size="Size.Small" OnClick="@(() => OnDeleteButtonClickAsync(context.Item))" />
                        <MudIconButton Icon="@Icons.Material.Outlined.Edit" Size="Size.Small" OnClick="@(() => OnEditButtonClick(context.Item))" />
                    </MudStack>
                </CellTemplate>
            </TemplateColumn>
            <PropertyColumn Property="x => x.ParentPath" Title="Parent Path" />
            <PropertyColumn Property="x => x.Name" />
            <PropertyColumn Property="x => x.Category" />
            <PropertyColumn Property="x => x.Type" Hidden="true" />
            <PropertyColumn Property="x => x.Manufacturer" Hidden="true" />
            <PropertyColumn Property="x => x.ManufacturerNumber" Hidden="true" Title="Manufacturer Number" />
            <PropertyColumn Property="x => x.Make" Hidden="true" />
            <PropertyColumn Property="x => x.Model" Hidden="true" />
            <PropertyColumn Property="x => x.Priority" Hidden="true" />
            <PropertyColumn Property="x => x.IsOnline" Title="Online" />
            <PropertyColumn Property="x => x.CreatedOn" Editable="false" Filterable="false" Title="Created" />
            <PropertyColumn Property="x => x.LastEditedOn" Hidden="true" Editable="false" Filterable="false" Title="Last Edited" />
        </Columns>

        <PagerContent>
            <MudDataGridPager T="Asset" />
        </PagerContent>
    </MudDataGrid>

</MudStack>
